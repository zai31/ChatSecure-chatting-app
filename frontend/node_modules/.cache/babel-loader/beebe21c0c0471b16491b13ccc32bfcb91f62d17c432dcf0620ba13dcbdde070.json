{"ast":null,"code":"var _jsxFileName = \"C:\\\\Intel\\\\whats-clone-backEnd\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useLocation } from 'react-router-dom';\nimport { useKeycloak } from '@react-keycloak/web';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport ChatLayout from './components/ChatLayout';\nimport Welcome from './components/Welcome';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { Box, CircularProgress } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createTheme({\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: '#1976d2'\n    },\n    secondary: {\n      main: '#f50057'\n    }\n  }\n});\n\n// Wrapper component that handles authentication state and redirects\nfunction AuthenticationHandler() {\n  _s();\n  const {\n    keycloak,\n    initialized\n  } = useKeycloak();\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    if (initialized && keycloak.authenticated) {\n      // If user is authenticated and trying to access login or register, redirect to chats\n      if (location.pathname === '/login' || location.pathname === '/register') {\n        navigate('/chats', {\n          replace: true\n        });\n      }\n    }\n  }, [keycloak, initialized, navigate, location.pathname]);\n\n  // Show loading while Keycloak is initializing\n  if (!initialized) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ml: 2\n        },\n        children: \"Loading authentication...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  }\n  return null;\n}\n_s(AuthenticationHandler, \"AAY8ikHNfI2Km+4lOUpmG1erTWk=\", false, function () {\n  return [useKeycloak, useNavigate, useLocation];\n});\n_c = AuthenticationHandler;\nfunction App() {\n  _s2();\n  const {\n    keycloak\n  } = useKeycloak();\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(AuthenticationHandler, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/welcome\",\n          element: /*#__PURE__*/_jsxDEV(Welcome, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/chats\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(ChatLayout, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/welcome\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s2(App, \"RhI8ij3JxyCvHhezn5pOW/NVOzw=\", false, function () {\n  return [useKeycloak];\n});\n_c2 = App;\nfunction ProtectedRoute({\n  children\n}) {\n  _s3();\n  const {\n    keycloak\n  } = useKeycloak();\n  return keycloak.authenticated ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/welcome\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 48\n  }, this);\n}\n_s3(ProtectedRoute, \"RhI8ij3JxyCvHhezn5pOW/NVOzw=\", false, function () {\n  return [useKeycloak];\n});\n_c3 = ProtectedRoute;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AuthenticationHandler\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"ProtectedRoute\");","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","useLocation","useKeycloak","Login","Register","ChatLayout","Welcome","ThemeProvider","createTheme","CssBaseline","Box","CircularProgress","jsxDEV","_jsxDEV","theme","palette","mode","primary","main","secondary","AuthenticationHandler","_s","keycloak","initialized","navigate","location","authenticated","pathname","replace","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","ml","_c","App","_s2","path","element","ProtectedRoute","to","_c2","_s3","_c3","$RefreshReg$"],"sources":["C:/Intel/whats-clone-backEnd/frontend/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useLocation } from 'react-router-dom';\nimport { useKeycloak } from '@react-keycloak/web';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport ChatLayout from './components/ChatLayout';\nimport Welcome from './components/Welcome';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { Box, CircularProgress } from '@mui/material';\n\nconst theme = createTheme({\n    palette: {\n        mode: 'dark',\n        primary: {\n            main: '#1976d2',\n        },\n        secondary: {\n            main: '#f50057',\n        },\n    },\n});\n\n// Wrapper component that handles authentication state and redirects\nfunction AuthenticationHandler() {\n    const { keycloak, initialized } = useKeycloak();\n    const navigate = useNavigate();\n    const location = useLocation();\n    \n    useEffect(() => {\n        if (initialized && keycloak.authenticated) {\n            // If user is authenticated and trying to access login or register, redirect to chats\n            if (location.pathname === '/login' || location.pathname === '/register') {\n                navigate('/chats', { replace: true });\n            }\n        }\n    }, [keycloak, initialized, navigate, location.pathname]);\n    \n    // Show loading while Keycloak is initializing\n    if (!initialized) {\n        return (\n            <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n                <CircularProgress />\n                <Box sx={{ ml: 2 }}>Loading authentication...</Box>\n            </Box>\n        );\n    }\n    \n    return null;\n}\n\nfunction App() {\n    const { keycloak } = useKeycloak();\n\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <Router>\n                <AuthenticationHandler />\n                <Routes>\n                    <Route path=\"/welcome\" element={<Welcome />} />\n                    <Route path=\"/login\" element={<Login />} />\n                    <Route path=\"/register\" element={<Register />} />\n                    <Route\n                        path=\"/chats\"\n                        element={\n                            <ProtectedRoute>\n                                <ChatLayout />\n                            </ProtectedRoute>\n                        }\n                    />\n                    <Route path=\"/\" element={<Navigate to=\"/welcome\" replace />} />\n                </Routes>\n            </Router>\n        </ThemeProvider>\n    );\n}\n\nfunction ProtectedRoute({ children }) {\n    const { keycloak } = useKeycloak();\n    return keycloak.authenticated ? children : <Navigate to=\"/welcome\" replace />;\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}